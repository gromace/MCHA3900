% Define images to process
% imageFileNames = ...
%    {'CamCalIm1.jpg',...
%     '/Volumes/SEMESTER/MCHA3900/Project/Images_to_be_Calibrated/Images/IM_1-03272018184145-0.jpg',...
%     '/Volumes/SEMESTER/MCHA3900/Project/Images_to_be_Calibrated/Images/IM_1-03272018184148-0.jpg',...
%     '/Volumes/SEMESTER/MCHA3900/Project/Images_to_be_Calibrated/Images/IM_1-03272018184201-0.jpg',...
%     '/Volumes/SEMESTER/MCHA3900/Project/Images_to_be_Calibrated/Images/IM_1-03272018184205-0.jpg',...
%     '/Volumes/SEMESTER/MCHA3900/Project/Images_to_be_Calibrated/Images/IM_1-03272018184209-0.jpg',...
%     '/Volumes/SEMESTER/MCHA3900/Project/Images_to_be_Calibrated/Images/IM_1-03272018184212-0.jpg',...
%     '/Volumes/SEMESTER/MCHA3900/Project/Images_to_be_Calibrated/Images/IM_1-03272018184224-0.jpg',...
%     '/Volumes/SEMESTER/MCHA3900/Project/Images_to_be_Calibrated/Images/IM_1-03272018184227-0.jpg',...
%     '/Volumes/SEMESTER/MCHA3900/Project/Images_to_be_Calibrated/Images/IM_1-03272018184229-0.jpg',...
%     '/Volumes/SEMESTER/MCHA3900/Project/Images_to_be_Calibrated/Images/IM_1-03272018184258-0.jpg',...
%     '/Volumes/SEMESTER/MCHA3900/Project/Images_to_be_Calibrated/Images/IM_1-03272018184302-0.jpg',...
%     '/Volumes/SEMESTER/MCHA3900/Project/Images_to_be_Calibrated/Images/IM_1-03272018184313-0.jpg',...
%     '/Volumes/SEMESTER/MCHA3900/Project/Images_to_be_Calibrated/Images/IM_1-03272018184320-0.jpg',...
%     '/Volumes/SEMESTER/MCHA3900/Project/Images_to_be_Calibrated/Images/IM_1-03272018184330-0.jpg',...
%    };
imageFileNames = ...
   {'CamCalIm1.jpg',...
    'Images/IM_1-03272018184145-0.jpg',...
    'Images/IM_1-03272018184148-0.jpg',...
    'Images/IM_1-03272018184201-0.jpg',...
    'Images/IM_1-03272018184205-0.jpg',...
    'Images/IM_1-03272018184209-0.jpg',...
    'Images/IM_1-03272018184212-0.jpg',...
    'Images/IM_1-03272018184224-0.jpg',...
    'Images/IM_1-03272018184227-0.jpg',...
    'Images/IM_1-03272018184229-0.jpg',...
    'Images/IM_1-03272018184258-0.jpg',...
    'Images/IM_1-03272018184302-0.jpg',...
    'Images/IM_1-03272018184313-0.jpg',...
    'Images/IM_1-03272018184320-0.jpg',...
    'Images/IM_1-03272018184330-0.jpg',...
   };
% imageFileNames = {'CamCalIm1.jpg'};


% Detect checkerboards in images
[imagePoints, boardSize, imagesUsed] = detectCheckerboardPoints(imageFileNames);
imageFileNamesUsed = imageFileNames(imagesUsed);

% Read the first image to obtain image size
originalImage = imread(imageFileNames{1});
[mrows, ncols, ~] = size(originalImage);

% Generate world coordinates of the corners of the squares
squareSize = 0.0285;  % in units of 'meters'
worldPoints = generateCheckerboardPoints(boardSize, squareSize);